<div class="container mt-4">
  <div class="card text-center">
    <div class="card-header">
      Shopping Cart
    </div>
    <div class="card-body">
      <ng-container *ngIf="(cart$ | async) as cart">
        <ul *ngIf="cart.length; else emptyCart">
          <li *ngFor="let cartItem of cart" class="d-flex justify-content-between align-items-center border p-4 mb-4">
            <div class="d-flex flex-column ">
              <div class="text-start mb-1 mt-2 d-flex">
                <img [src]="cartItem.thumbnail" class="rounded float-start avatar" [alt]="cartItem.productName">
                <div>
                  <p> <strong> {{ cartItem.productName }} </strong></p>
                  <p class="text-start"><strong> Price: {{ cartItem.price | currency }} </strong></p>
                </div>
              </div>

            </div>
            <div class="align-items-stretch">
              <div class="btn-group mx-3" role="group">
                <button type="button" class="btn btn-outline-dark">
                  <fa-icon [icon]="faMinus"></fa-icon>
                </button>
                <button type="button" class="btn btn-outline-dark"> {{ cartItem.quantity }} </button>
                <button type="button" class="btn btn-outline-dark">
                  <fa-icon [icon]="faPlus"></fa-icon>
                </button>
              </div>
              <button class="btn btn-outline-dark">
                <fa-icon [icon]="faTrash"></fa-icon>
              </button>
            </div>
          </li>
        </ul>
      </ng-container>

      <ng-template #emptyCart>
        <h1> No items added to cart</h1>
      </ng-template>

    </div>
    <div class="card-footer">
      <p class="text-end fs-4">Total is
        <strong>
          <span *ngIf="(cartTotal$ | async) as total; else noPrice"> {{ total | currency }}</span>
          <ng-template #noPrice> <span> {{ 0.00 | currency }} </span> </ng-template>
        </strong>
      </p>
      <button type="button" class="btn btn-dark mb-4">Check out</button>
    </div>
  </div>
</div>
